Project_SP_Pereval https://github.com/4alroger/Project_SP_Pereval/tree/main

# Проект REST API для туристических горных перевалов
# Описание:

SkillFactory получила заказ от Федерации Спортивного Туризма России (ФСТР).
На сайте https://pereval.online/ ФСТР ведёт базу горных перевалов, которая пополняется туристами.

После преодоления очередного перевала, турист заполняет отчёт в формате PDF и отправляет его на электронную почту федерации. Экспертная группа ФСТР получает эту информацию, верифицирует, а затем вносит её в базу, которая ведётся в Google-таблице.

Видение заказчика:

ФСТР заказала учащимся SkillFactory разработать мобильное приложение для Android и iOS, позволяющее туристам отправлять данные о перевалах. Приложение должно сократить время обработки запроса до трёх дней.

Пользоваться мобильным приложением будут туристы. В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР, как только появится доступ в Интернет.

Модератор из федерации будет верифицировать и вносить в базу данных информацию, полученную от пользователей, а те в свою очередь смогут увидеть в мобильном приложении статус модерации и просматривать базу с объектами, внесёнными другими.

Этап 1. Подготовка требований к мобильному приложению и Rest API
Для пользователя в мобильном приложении будут доступны следующие действия:

        Внесение информации о новом объекте (перевале) в карточку объекта.
        Редактирование в приложении неотправленных на сервер ФСТР данных об объектах. На перевале не всегда работает Интернет.
        Заполнение ФИО и контактных данных (телефон и электронная почта) с последующим их автозаполнением при внесении данных о новых объектах.
        Отправка данных на сервер ФСТР.
        Получение уведомления о статусе отправки (успешно/неуспешно).
        Согласие пользователя с политикой обработки персональных данных в случае нажатия на кнопку «Отправить» при отправке данных на сервер.

Пользователь с помощью мобильного приложения будет передавать в ФСТР следующие данные о перевале:

        координаты перевала и его высота;
        имя пользователя;
        почта и телефон пользователя;
        название перевала;
        несколько фотографий перевала.

Допустимые значения поля status:

	'new' - новая заявка(default-значение);
	'pending' — на рассмотрении, если модератор взял в работу;
	'accepted' — заявка принята, модерация прошла успешно;
	'rejected' — заявка отклонена, модерация прошла, информация не принята.





Этап 2. Создание дизайна мобильного приложения

Этап 3. Разработка мобильного приложения

Этап 4. Тестирование

Дополнительная задача «со звёздочкой». Публикация своего решения на хостинге
В качестве хостинга выбран pythonanywhere.com - Alroger.pythonanywhere.com


Метод GET /submitData/
Этот метод получает одну запись (перевал) по её id с выведением всей информацию об перевале, в том числе статус модерации.
Пример JSON: 

HTTP 200 OK
Allow: GET, PUT, PATCH, DELETE, HEAD, OPTIONS
Content-Type: application/json
Vary: Accept

{
    "id": 3,
    "user": {
        "email": "alex.botlanda@mail.ru",
        "phone": "+79524397035",
        "last_name": "Botlanda",
        "name": "Alex",
        "otc": "-"
    },
    "beauty_title": "Бивачный",
    "title": "Главный хребет Заилийского Алатау",
    "other_titles": "Ленинградский",
    "connect": "",
    "coords": {
        "latitude": 43.078256,
        "longitude": 77.309239,
        "height": 4250
    },
    "level": {
        "winter": "2b",
        "summer": "2a",
        "autumn": "2a",
        "spring": "2a"
    },
    "photo": [
        {
            "data": "https://pereval.online/imagecache/original/caubasephotos2.narod.ru--photos2--cau_11214_ln.jpg",
            "title": "Перевал Бивачный"
        }
    ],
    "status": "new"
}


Метод GET+email /submitData/?user_email=email
Возвращает данные всех объектов, отправленных на сервер пользователем с почтой email. Пример запроса:

GET /submitData/pass/?user__email=note.lovar%40mail.ru

Пример JSON:



HTTP 200 OK
Allow: GET, POST, HEAD, OPTIONS
Content-Type: application/json
Vary: Accept

[
    {
        "id": 1,
        "user": {
            "email": "note.lovar@mail.ru",
            "phone": "+79613491256",
            "last_name": "Lovar",
            "name": "Note",
            "otc": "ogly"
        },
        "beauty_title": "Шаумянский",
        "title": "Ставропольский/Краснодарский край",
        "other_titles": "Дорога Хадыженск - Туапсе",
        "connect": "",
        "coords": {
            "latitude": 44.347,
            "longitude": 39.296,
            "height": 512
        },
        "level": {
            "winter": "1a",
            "summer": "1a",
            "autumn": "1a",
            "spring": "1a"
        },
        "photo": [
            {
                "data": "https://celes.club/uploads/posts/2022-09/1662244680_13-celes-club-p-shaumyanskii-pereval-vkontakte-14.jpg",
                "title": "Шаумянский перевал"
            }
        ],
        "status": "new"
    },
    {
        "id": 2,
        "user": {
            "email": "note.lovar@mail.ru",
            "phone": "+79613491256",
            "last_name": "Lovar",
            "name": "Note",
            "otc": "ogly"
        },
        "beauty_title": "Купол",
        "title": "р.Джело - р.Актру. Через плато в.Купол",
        "other_titles": "Купол трех озер",
        "connect": "",
        "coords": {
            "latitude": 50.04758,
            "longitude": 87.78233,
            "height": 3527
        },
        "level": {
            "winter": "1b",
            "summer": null,
            "autumn": null,
            "spring": null
        },
        "photo": [
            {
                "data": "https://pereval.online/imagecache/original/object/images/2019/12/05/ee65e8-28.jpg",
                "title": "Перевал Купол"
            }
        ],
        "status": "new"
    }
]






